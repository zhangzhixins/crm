<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>商机销售漏斗</title>
    <link rel="stylesheet" href="/layui/css/layui.css">
    <script src="/echarts/echarts.min.js"></script>
</head>
<style>
    .box1{
        border: 1px solid;
        width: 1000px;
        height: 1900px;
    }
    .box2{
        border: 1px solid;
        width: 1000px;
        height: 300px;
    }
    .box3{
        border: 1px solid;
        width: 350px;
        height: 300px;
    }
    .box4{
        border: 1px solid;
        width: 640px;
        height: 300px;
    }
</style>
<body>
<div class="box1">
    <div class="box2">
        <div class="box3" id="main1" style="float: left">

        </div>
        <div class="box4" style="float: right">
            <table id="demo1" lay-filter="table1"></table>
        </div>
    </div>


    <div class="box2">
        <div class="box3" id="main2" style="float: left">

        </div>
        <div class="box4" style="float: right">
            <table id="demo2" lay-filter="table2"></table>
        </div>
    </div>


    <div class="box2">
        <div class="box3" id="main3" style="float: left">

        </div>
        <div class="box4" style="float: right">
            <table id="demo3" lay-filter="table3"></table>
        </div>
    </div>



    <div class="box2">
        <div class="box3" id="main4" style="float: left">

        </div>
        <div class="box4" style="float: right">
            <table id="demo4" lay-filter="table4"></table>
        </div>
    </div>



    <div class="box2">
        <div class="box3" id="main5" style="float: left">

        </div>
        <div class="box4" style="float: right">
            <table id="demo5" lay-filter="table5"></table>
        </div>
    </div>
</div>
<!-- 你的HTML代码 -->
<script src="/layui/layui.js"></script>
<script>
    layui.use(['layer', 'form','table','jquery'], function(){
        var layer = layui.layer
            ,form = layui.form
            ,table = layui.table
            ,$=layui.jquery;

        /**
         * 第一个
         */
        table.render({
            elem: '#demo1'
            ,height: 280
            ,url: '/statistic/busFunnel.do?key=8' //数据接口
            ,cols: [[ //表头
                ,{field: 'count', title: '商机数', width:120}
                ,{field: 'baiFenShu', title: '百分比', width:200}
                ,{field: 'money', title: '金额', width: 120}
                ,{field: 'baiFenJin', title: '百分比', width: 120}
            ]]
            ,done: function(res, curr, count){
                this.where={};
            }
        });
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main1'));
        // 指定图表的配置项和数据
        var option = {
            title: {
                text: '全部商机销售漏斗',
                left:'18%',
                top: '10%'
            },
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '1%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '70%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value:100 , name: '初期沟通'},
                        {value:80, name: '方案和报价'},
                        {value:60, name: '竞争或投标'},
                        {value:40, name: '商务谈判'},
                        {value:20, name: '成交'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);


        /**
         * 第二个
         */
        table.render({
            elem: '#demo2'
            ,height: 280
            ,url: '/statistic/busFunnel.do?key=6' //数据接口
            ,cols: [[ //表头
                ,{field: 'count', title: '商机数', width:120}
                ,{field: 'baiFenShu', title: '百分比', width:200}
                ,{field: 'money', title: '金额', width: 120}
                ,{field: 'baiFenJin', title: '百分比', width: 120}
            ]]
            ,done: function(res, curr, count){
                this.where={};
            }
        });
        // 基于准备好的dom，初始化echarts实例
        var myChart2 = echarts.init(document.getElementById('main2'));
        // 指定图表的配置项和数据
        var option2 = {
            title: {
                text: '本年度商机销售漏斗',
                left:'18%',
                top: '10%'
            },
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '1%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '70%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value:100 , name: '初期沟通'},
                        {value:80, name: '方案和报价'},
                        {value:60, name: '竞争或投标'},
                        {value:40, name: '商务谈判'},
                        {value:20, name: '成交'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart2.setOption(option2);




        /**
         * 第三个
         */
        table.render({
            elem: '#demo3'
            ,height: 280
            ,url: '/statistic/busFunnel.do?key=7' //数据接口
            ,cols: [[ //表头
                ,{field: 'count', title: '商机数', width:120}
                ,{field: 'baiFenShu', title: '百分比', width:200}
                ,{field: 'money', title: '金额', width: 120}
                ,{field: 'baiFenJin', title: '百分比', width: 120}
            ]]
            ,done: function(res, curr, count){
                this.where={};
            }
        });
        // 基于准备好的dom，初始化echarts实例
        var myChart3 = echarts.init(document.getElementById('main3'));
        // 指定图表的配置项和数据
        var option3 = {
            title: {
                text: '上年度商机销售漏斗',
                left:'18%',
                top: '10%'
            },
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '1%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '70%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value:100 , name: '初期沟通'},
                        {value:80, name: '方案和报价'},
                        {value:60, name: '竞争或投标'},
                        {value:40, name: '商务谈判'},
                        {value:20, name: '成交'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart3.setOption(option3);



        /**
         * 第四个
         */
        table.render({
            elem: '#demo4'
            ,height: 280
            ,url: '/statistic/busFunnel.do?key=4' //数据接口
            ,cols: [[ //表头
                ,{field: 'count', title: '商机数', width:120}
                ,{field: 'baiFenShu', title: '百分比', width:200}
                ,{field: 'money', title: '金额', width: 120}
                ,{field: 'baiFenJin', title: '百分比', width: 120}
            ]]
            ,done: function(res, curr, count){
                this.where={};
            }
        });
        // 基于准备好的dom，初始化echarts实例
        var myChart4 = echarts.init(document.getElementById('main4'));
        // 指定图表的配置项和数据
        var option4 = {
            title: {
                text: '本季度商机销售漏斗',
                left:'18%',
                top: '10%'
            },
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '1%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '70%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value:100 , name: '初期沟通'},
                        {value:80, name: '方案和报价'},
                        {value:60, name: '竞争或投标'},
                        {value:40, name: '商务谈判'},
                        {value:20, name: '成交'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart4.setOption(option4);




        /**
         * 第五个
         */
        table.render({
            elem: '#demo5'
            ,height: 280
            ,url: '/statistic/busFunnel.do?key=5' //数据接口
            ,cols: [[ //表头
                ,{field: 'count', title: '商机数', width:120}
                ,{field: 'baiFenShu', title: '百分比', width:200}
                ,{field: 'money', title: '金额', width: 120}
                ,{field: 'baiFenJin', title: '百分比', width: 120}
            ]]
            ,done: function(res, curr, count){
                this.where={};
            }
        });
        // 基于准备好的dom，初始化echarts实例
        var myChart5 = echarts.init(document.getElementById('main5'));
        // 指定图表的配置项和数据
        var option5 = {
            title: {
                text: '上季度商机销售漏斗',
                left:'18%',
                top: '10%'
            },
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '1%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '70%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        {value:100 , name: '初期沟通'},
                        {value:80, name: '方案和报价'},
                        {value:60, name: '竞争或投标'},
                        {value:40, name: '商务谈判'},
                        {value:20, name: '成交'}
                    ]
                }
            ]
        };
        // 使用刚指定的配置项和数据显示图表。
        myChart5.setOption(option5);
    });
</script>
</body>
</html>